{"ast":null,"code":"var _jsxFileName = \"D:\\\\ini8\\\\Frontend--React\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport UploadForm from './components/uploadForm';\nimport DocumentList from './components/DocumentList';\nimport api from './api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [documents, setDocuments] = useState([]);\n  const [message, setMessage] = useState(null);\n  const fetchDocs = async () => {\n    try {\n      const res = await api.get('/documents');\n      setDocuments(res.data);\n    } catch (err) {\n      console.error(err);\n      setMessage({\n        type: 'error',\n        text: 'Failed to fetch documents'\n      });\n    }\n  };\n  useEffect(() => {\n    fetchDocs();\n  }, []);\n  const handleUploadSuccess = doc => {\n    setMessage({\n      type: 'success',\n      text: 'Uploaded successfully'\n    });\n    fetchDocs();\n  };\n  const handleDelete = async id => {\n    if (!window.confirm('Delete this document?')) return;\n    try {\n      await api.delete(`/documents/${id}`);\n      setMessage({\n        type: 'success',\n        text: 'Deleted successfully'\n      });\n      fetchDocs();\n    } catch (err) {\n      console.error(err);\n      setMessage({\n        type: 'error',\n        text: 'Delete failed'\n      });\n    }\n  };\n  const handleDownload = id => {\n    const url = `${api.defaults.baseURL}/documents/${id}`;\n    window.open(url, '_blank');\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Patient Document Portal\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this), message && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `alert ${message.type === 'error' ? 'alert-error' : 'alert-success'}`,\n      children: [message.text, /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"close\",\n        onClick: () => setMessage(null),\n        children: \"\\xD7\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(UploadForm, {\n      onSuccess: handleUploadSuccess,\n      onError: t => setMessage({\n        type: 'error',\n        text: t\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DocumentList, {\n      documents: documents,\n      onDelete: handleDelete,\n      onDownload: handleDownload\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"qcWfyb7TDccv35q/iCl+PB4JOvk=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useEffect","useState","UploadForm","DocumentList","api","jsxDEV","_jsxDEV","App","_s","documents","setDocuments","message","setMessage","fetchDocs","res","get","data","err","console","error","type","text","handleUploadSuccess","doc","handleDelete","id","window","confirm","delete","handleDownload","url","defaults","baseURL","open","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","onSuccess","onError","t","onDelete","onDownload","_c","$RefreshReg$"],"sources":["D:/ini8/Frontend--React/src/App.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport UploadForm from './components/uploadForm';\r\nimport DocumentList from './components/DocumentList';\r\nimport api from './api';\r\n\r\nfunction App() {\r\n  const [documents, setDocuments] = useState([]);\r\n  const [message, setMessage] = useState(null);\r\n\r\n  const fetchDocs = async () => {\r\n    try {\r\n      const res = await api.get('/documents');\r\n      setDocuments(res.data);\r\n    } catch (err) {\r\n      console.error(err);\r\n      setMessage({ type: 'error', text: 'Failed to fetch documents' });\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchDocs();\r\n  }, []);\r\n\r\n  const handleUploadSuccess = (doc) => {\r\n    setMessage({ type: 'success', text: 'Uploaded successfully' });\r\n    fetchDocs();\r\n  };\r\n\r\n  const handleDelete = async (id) => {\r\n    if (!window.confirm('Delete this document?')) return;\r\n    try {\r\n      await api.delete(`/documents/${id}`);\r\n      setMessage({ type: 'success', text: 'Deleted successfully' });\r\n      fetchDocs();\r\n    } catch (err) {\r\n      console.error(err);\r\n      setMessage({ type: 'error', text: 'Delete failed' });\r\n    }\r\n  };\r\n\r\n  const handleDownload = (id) => {\r\n    \r\n    const url = `${api.defaults.baseURL}/documents/${id}`;\r\n\r\n    window.open(url, '_blank');\r\n  };\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <h1>Patient Document Portal</h1>\r\n\r\n      {message && (\r\n        <div className={`alert ${message.type === 'error' ? 'alert-error' : 'alert-success'}`}>\r\n          {message.text}\r\n          <button className=\"close\" onClick={() => setMessage(null)}>Ã—</button>\r\n        </div>\r\n      )}\r\n\r\n      <UploadForm onSuccess={handleUploadSuccess} onError={(t)=>setMessage({type:'error', text:t})} />\r\n      <hr />\r\n      <DocumentList\r\n        documents={documents}\r\n        onDelete={handleDelete}\r\n        onDownload={handleDownload}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}